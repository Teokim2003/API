# API
## Description
Simple CRUD API for Dog Breeds Gallery with JPA (Hibernate)

### Version
1.0.0

## Installation
- Get the project
    - clone
        ```
      git clone https://github.com/uncg-csc340/su25-jpa-crud-api.git
        ```
    - OR download zip.
- Open the project in VS Code.
- This project is built to run with jdk 17.
- Dependencies to JPA and Postgres in addition to the usual Spring Web. JPA handles the persistence, Postgresql is the database to be used.
- `/src/main/resources/application.properties` This file  is the configuration for the PostgreSQL database to use for the API.
  - You MUST have the database up and running before running the project!
    - Login to your neon.tech account.
    - Locate your database project.
    - On the project dashboard, click on "Connect" and select Java.
    - Copy the connection string provided.
    - Paste it as a value for the property `spring.datasource.url`. No quotation marks.
- Build and run the main class. You should see a new table created in the Neon database.

## API Endpoints
Base URL: [`http://localhost:8080/dogs`](http://localhost:8080/dogs)


1. ### [`/`](http://localhost:8080/dogs) (GET)
Gets a list of all dog breeds in the database.

#### Response - A JSON array of Dog objects.

```
[
  {
    "dogId": 1,
    "name": "French Bulldog",
    "desc": "Read more",
    "otherNames": "Bouledogue Français",
    "origin": "France",
  },
  {
    "dogId": 2,
    "name": "Labrador Retriever",
    "desc": "Read more",
    "otherNames": "Labrador",
    "origin": "United Kingdom",
  },
  {
    "dogId": 3,
    "name": "Golden Retriever",
    "desc": "Read more",
    "otherNames": "Flat-coated Retriever, Golden Yellow",
    "origin": "Scotland",
  },
  {
    "dogId": 4,
    "name": "Bulldog",
    "desc": "Read more",
    "otherNames": "English Bulldog, British Bulldog",
    "origin": "England",
  },
  {
    "dogId": 5,
    "name": "Poodle",
    "desc": "Read more",
    "otherNames": "Pudel, Caniche",
    "origin": "Germany",
  }
]
```

2. ### [`/{dogId}`](http://localhost:8080/dogs/1)
Gets an individual Dog in the system. Each dog is identified by a numeric `dogId`.

#### Parameters
- Path Variable: `dogId`

#### Response - A single Dog

```
[
  {
    "dogId": 1,
    "name": "French Bulldog",
    "desc": "Read more",
    "otherNames": "Bouledogue Français",
    "origin": "France",
  }
]
```

3. ### [`/{name}`](http://localhost:8080/dogs/name?key=fr) (GET)
Gets a list of dogs with a name that contains the given String.

#### Response - A JSON array of Dog objects.

```
[
  {
    "dogId": 1,
    "name": "French Bulldog",
    "desc": "Read more",
    "otherNames": "Bouledogue Français",
    "origin": "France",
  }
]
```

4. ### [`/origin/{origin}`](http://localhost:8080/dogs/origin/scotland) (GET)
Gets a list of dogs for a named origin.

#### Parameters
- Path Variable: `origin`

#### Response - A JSON array of Dog objects.

```
[
  {
    "dogId": 3,
    "name": "Golden Retriever",
    "desc": "Read more",
    "otherNames": "Flat-coated Retriever, Golden Yellow",
    "origin": "Scotland",
  }
]
```

5. ### [`/`](http://localhost:8080/dogs) (POST)
Creates a new Dog entry.

#### Request Body
A Dog object. Note that this does not include an ID since this is autogenerated.
```
{
  "name": "Akita Inu",
  "desc": "Read more",
  "otherNames": "Japanese Akita",
  "origin": "Japan",
}
```
#### Response - The newly-created Dog.

```
{
  "dogId": 6,
  "name": "Akita Inu",
  "desc": "Read more",
  "otherNames": "Japanese Akita",
  "origin": "Japan",
}
```

6. ### [`/{dogId}`](http://localhost:8080/dogs/6) (PUT)
Update an existing Dog.

#### Parameters
- Path Variable: `dogId`

#### Request Body
A Dog object with the updates.
```
{
  "dogId": 6,
  "name": "Updated Dog",
  "desc": "Read more",
  "otherNames": "Japanese Akita",
  "origin": "Japan",
}
```
#### Response - The updated Dog object.
```
{
  "dogId": 6,
  "name": "Updated Dog",
  "desc": "Read more",
  "otherNames": "Japanese Akita",
  "origin": "Japan",
}
```

### [`/dogId`](http://localhost:8080/dogs/6) (DELETE)
Deletes an existing Dog.

#### Parameters
- Path Variable: `dogId`

#### Response - The updated list of dogs.
```
[
  {
    "dogId": 1,
    "name": "French Bulldog",
    "desc": "Read more",
    "otherNames": "Bouledogue Français",
    "origin": "France",
  },
  {
    "dogId": 2,
    "name": "Labrador Retriever",
    "desc": "Read more",
    "otherNames": "Labrador",
    "origin": "United Kingdom",
  },
  {
    "dogId": 3,
    "name": "Golden Retriever",
    "desc": "Read more",
    "otherNames": "Flat-coated Retriever, Golden Yellow",
    "origin": "Scotland",
  },
  {
    "dogId": 4,
    "name": "Bulldog",
    "desc": "Read more",
    "otherNames": "English Bulldog, British Bulldog",
    "origin": "England",
  },
  {
    "dogId": 5,
    "name": "Poodle",
    "desc": "Read more",
    "otherNames": "Pudel, Caniche",
    "origin": "Germany",
  }
]
```
